<?xml version="1.0" ?>
<launch>

  <arg name="rviz_config"	default="hmi_demo"/>
  <arg name="nep"		default="false"/>

  <!-- Start kitting servers -->
  <include file="$(dirname)/kitting.launch">
    <arg name="sim"		value="false"/>
    <arg name="rviz_config"	value="$(arg rviz_config)"/>
  </include>

  <!-- Start hmi_demo server -->
  <node name="hmi_server"
  	pkg="aist_routines" type="hmi_server.py" output="screen"/>

  <!-- Start live camera -->
  <node name="live_camera"
  	pkg="usb_cam" type="usb_cam_node" output="screen">
      <rosparam file="$(dirname)/../config/live_camera.yaml"/>
  </node>

  <!-- Start mesh generator -->
  <include file="$(find aist_visualization)/launch/mesh_generator.launch">
    <arg name="screen_frame"	  value="virtual_screen"/>
    <arg name="reference_frame"	  value="world"/>
    <arg name="camera_info_topic" value="/live_camera/camera_info"/>
  </include>

  <group unless="$(arg nep)">

    <!-- Start rosbridge server -->
    <include file="$(find rosbridge_server)/launch/rosbridge_websocket.launch">
      <arg name="port"	value="9090"/>
    </include>

  </group>

  <group if="$(arg nep)">

    <!-- Start nep_bridge server -->
    <include file="$(find nep_bridge)/launch/run.launch">
      <arg name="config_file"	value="$(dirname)/../config/nep_bridge.yaml"/>
    </include>

    <!-- <arg name="nep_ip"	value="163.220.51.108"/> -->

    <!-- Start live camera -->
    <!-- <node name="camera_script" -->
    <!-- 	  pkg="aist_routines" type="camera_script.py" output="screen"> -->
    <!-- </node> -->
    <!-- <node name="camera_bridge" -->
    <!-- 	  pkg="aist_routines" type="camera_bridge.py" output="screen"> -->
    <!--   <arg name="nep_ip"	value="$(arg nep_ip)"/> -->
    <!-- </node> -->

    <!-- Start ROS to NEP bridge -->
    <!-- <node name="nep_bridge" -->
    <!-- 	  pkg="nep_bridge" type="nep_bridge.py" output="screen"> -->
    <!-- </node> -->

    <!-- <node name="ros2nep" -->
    <!-- 	  pkg="aist_routines" type="ros2nep.py" args="$(arg nep_ip)" -->
    <!-- 	  output="screen"/> -->

    <!-- <node name="getPointing" -->
    <!-- 	  pkg="aist_routines" type="getPointing.py" -->
    <!-- 	  output="screen"/> -->

    <!-- <node name="setRequestHelp" -->
    <!-- 	  pkg="aist_routines" type="setRequestHelp.py" -->
    <!-- 	  output="screen"/> -->
  </group>

</launch>
